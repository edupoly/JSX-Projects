
<html>
    <head>
        <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
        <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
        <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <script src="marks.js"></script>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    </head>
    <body>
        <div id="root"></div>
        
        <script type="text/babel">
            function calPer(student){
                return Object.keys(student['marks_obtained']).reduce((tot,sub)=>{
                    return tot+student['marks_obtained'][sub]
                },0)/ Object.keys(student['marks_obtained']).length
            }
            function getClassName(student){
                var p = calPer(student);
                if(p>=80){return 'table-success'}
                if(p<80 && p>=70){return 'table-info'}
                if(p<70 && p>=60){return 'table-primary'}
                if(p<60 && p>=40){return 'table-warning'}
                if(p<40){return 'table-danger'}
            }
            var ui = <table border='2' className="table">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Maths</th>
                                <th>English</th>
                                <th>Science</th>
                                <th>History</th>
                                <th>Geography</th>
                                <th>Percentage</th>
                            </tr>
                        </thead>
                        <tbody>
                            {
                                marks.map((student)=>{
                                    return  <tr className={getClassName(student)}>
                                                <th>{student.name}</th>
                                                <td>{student['marks_obtained'].Math}</td>
                                                <td>{student['marks_obtained'].English}</td>
                                                <td>{student['marks_obtained'].Science}</td>
                                                <td>{student['marks_obtained'].History}</td>
                                                <td>{student['marks_obtained'].Geography}</td>
                                                <th>
                                                    {
                                                        calPer(student)
                                                    }
                                                </th>
                                            </tr>
                                })
                            }
                        </tbody>
                    </table>
            ReactDOM.render(ui,document.getElementById("root"))
        </script>
    </body>
</html>